3ème étape du Projet BDD :

MLD :
Architecte = (A_ID INT, A_Nom VARCHAR(50), A_Prénom VARCHAR(50), A_Date_de_naissance DATE, A_Date_de_décès DATE, A_Nationalité DATE);
Matériaux = (M_ID VARCHAR(50), M_Nom VARCHAR(50), ID_Indice_de_durabilité INT);
Style_architectural = (S_ID VARCHAR(50), S_Nom VARCHAR(50), S_Origine VARCHAR(50));
Epoque = (E_ID INT, E_Nom VARCHAR(50), E_Date_de_début DATE, E_Date_de_fin DATE);
Localisation = (L_ID VARCHAR(50), L_Ville VARCHAR(50), L_Pays VARCHAR(50), L_Coordonnées_latitude DECIMAL(15,6), L_Coordonnées_Longitude DECIMAL(15,6));
Méthode_de_reproduction = (MR_ID VARCHAR(50), MR_Nom VARCHAR(50), MR_Type VARCHAR(50), MR_Niveau_de_détail VARCHAR(50), MR_Durée BIGINT, MR_Coût DECIMAL(15,2));
Usage = (U_ID INT, U_Type VARCHAR(50));
Financement = (F_ID VARCHAR(50), F_Source VARCHAR(50), F_Type VARCHAR(50), F_Coût DECIMAL(15,2));
OEuvre_Architecturale = (OE_ID VARCHAR(50), OE_Nom VARCHAR(50), OE_Date_début_construction DATE, OE_Date_fin_construction DATE, OE_Etat VARCHAR(50), #L_ID);
Caractéristique_esthétique = (#OE_ID, C_ID INT, C_Hauteur DECIMAL(15,2), C_Palette_de_couleur VARCHAR(50), C_Ornement VARCHAR(50), C_Largeur DECIMAL(15,2));
Collaborer = (#A_ID, #A_ID_1);
appartenir = (#OE_ID, #S_ID, #E_ID);
est_utilisée = (#OE_ID, #U_ID);
inspirer = (#OE_ID, #OE_ID_1);
reproduire = (#OE_ID, #MR_ID);
bénéficier = (#OE_ID, #F_ID);
Travailler = (#A_ID, #OE_ID, #M_ID);


MPD :

CREATE TABLE Architecte (
    A_ID INT PRIMARY KEY,
    A_Nom VARCHAR(50) NOT NULL,
    A_Prénom VARCHAR(50) NOT NULL,
    A_Date_de_naissance DATE,
    A_Date_de_décès DATE,
    A_Nationalité VARCHAR(50)
);

CREATE TABLE Materiaux (
    M_ID VARCHAR(50) PRIMARY KEY,
    M_Nom VARCHAR(50) NOT NULL,
    ID_Indice_de_durabilité INT
);

CREATE TABLE Style_architectural (
    S_ID VARCHAR(50) PRIMARY KEY,
    S_Nom VARCHAR(50) NOT NULL,
    S_Origine VARCHAR(50)
);

CREATE TABLE Epoque (
    E_ID INT PRIMARY KEY,
    E_Nom VARCHAR(50) NOT NULL,
    E_Date_de_début DATE,
    E_Date_de_fin DATE
);

CREATE TABLE Localisation (
    L_ID VARCHAR(50) PRIMARY KEY,
    L_Ville VARCHAR(50),
    L_Pays VARCHAR(50),
    L_Coordonnées_latitude DECIMAL(15,6),
    L_Coordonnées_longitude DECIMAL(15,6)
);

CREATE TABLE Methode_de_reproduction (
    MR_ID VARCHAR(50) PRIMARY KEY,
    MR_Nom VARCHAR(50) NOT NULL,
    MR_Type VARCHAR(50),
    MR_Niveau_de_détail VARCHAR(50),
    MR_Durée BIGINT,
    MR_Coût DECIMAL(15,2)
);

CREATE TABLE Usage (
    U_ID INT PRIMARY KEY,
    U_Type VARCHAR(50)
);
CREATE TABLE Financement (
    F_ID VARCHAR(50) PRIMARY KEY,
    F_Source VARCHAR(50),
    F_Type VARCHAR(50),
    F_Coût DECIMAL(15,2)
);

CREATE TABLE Oeuvre_Architecturale (
    OE_ID VARCHAR(50) PRIMARY KEY,
    OE_Nom VARCHAR(50) NOT NULL,
    OE_Date_début_construction DATE,
    OE_Date_fin_construction DATE,
    OE_Etat VARCHAR(50),
    L_ID VARCHAR(50),
    FOREIGN KEY (L_ID) REFERENCES Localisation(L_ID)
);

CREATE TABLE Caracteristique_esthetique (
    OE_ID VARCHAR(50),
    C_ID INT,
    C_Hauteur DECIMAL(15,2),
    C_Palette_de_couleur VARCHAR(50),
    C_Ornement VARCHAR(50),
    C_Largeur DECIMAL(15,2),
    PRIMARY KEY (OE_ID, C_ID),
    FOREIGN KEY (OE_ID) REFERENCES Oeuvre_Architecturale(OE_ID)
);

CREATE TABLE Collaborer (
    A_ID INT,
    A_ID_1 INT,
    PRIMARY KEY (A_ID, A_ID_1),
    FOREIGN KEY (A_ID) REFERENCES Architecte(A_ID),
    FOREIGN KEY (A_ID_1) REFERENCES Architecte(A_ID)
);

CREATE TABLE Appartenir (
    OE_ID VARCHAR(50),
    S_ID VARCHAR(50),
    E_ID INT,
    PRIMARY KEY (OE_ID, S_ID, E_ID),
    FOREIGN KEY (OE_ID) REFERENCES Oeuvre_Architecturale(OE_ID),
    FOREIGN KEY (S_ID) REFERENCES Style_architectural(S_ID),
    FOREIGN KEY (E_ID) REFERENCES Epoque(E_ID)
);

CREATE TABLE Est_utilisee (
    OE_ID VARCHAR(50),
    U_ID INT,
    PRIMARY KEY (OE_ID, U_ID),
    FOREIGN KEY (OE_ID) REFERENCES Oeuvre_Architecturale(OE_ID),
    FOREIGN KEY (U_ID) REFERENCES Usage(U_ID)
);

CREATE TABLE Inspirer (
    OE_ID VARCHAR(50),
    OE_ID_1 VARCHAR(50),
    PRIMARY KEY (OE_ID, OE_ID_1),
    FOREIGN KEY (OE_ID) REFERENCES Oeuvre_Architecturale(OE_ID),
    FOREIGN KEY (OE_ID_1) REFERENCES Oeuvre_Architecturale(OE_ID)
);

CREATE TABLE Reproduire (
    OE_ID VARCHAR(50),
    MR_ID VARCHAR(50),
    PRIMARY KEY (OE_ID, MR_ID),
    FOREIGN KEY (OE_ID) REFERENCES Oeuvre_Architecturale(OE_ID),
    FOREIGN KEY (MR_ID) REFERENCES Methode_de_reproduction(MR_ID)
);

CREATE TABLE Beneficier (
    OE_ID VARCHAR(50),
    F_ID VARCHAR(50),
    PRIMARY KEY (OE_ID, F_ID),
    FOREIGN KEY (OE_ID) REFERENCES Oeuvre_Architecturale(OE_ID),
    FOREIGN KEY (F_ID) REFERENCES Financement(F_ID)
);

CREATE TABLE Travailler (
    A_ID INT,
    OE_ID VARCHAR(50),
    M_ID VARCHAR(50),
    PRIMARY KEY (A_ID, OE_ID, M_ID),
    FOREIGN KEY (A_ID) REFERENCES Architecte(A_ID),
    FOREIGN KEY (OE_ID) REFERENCES Oeuvre_Architecturale(OE_ID),
    FOREIGN KEY (M_ID) REFERENCES Materiaux(M_ID)
);

Les contraintes de validation :

Les matériaux utilisés doivent avoir une durabilité comprise entre 1 et 10
ALTER TABLE Materiaux
ADD CONSTRAINT CK_Materiaux_Durabilite CHECK (
    ID_Indice_de_durabilite BETWEEN 1 AND 10
);

Une œuvre architecturale ne peut être considérée "Terminée" que si une date de fin est renseignée
ALTER TABLE OEuvre_Architecturale
ADD CONSTRAINT CK_OEuvre_Etat_Termine CHECK (
    (OE_Etat <> 'Terminée') OR (OE_Date_fin_construction IS NOT NULL)
);

La durée d’une méthode de reproduction ne peut pas dépasser 365 jours
ALTER TABLE Methode_de_reproduction
ADD CONSTRAINT CK_Methode_Duree CHECK (
    MR_Duree <= 365
);

La hauteur d’une œuvre doit être réaliste (entre 1 et 1000 mètres)
ALTER TABLE Caracteristique_esthetique
ADD CONSTRAINT CK_Caracteristique_Hauteur CHECK (
    C_Hauteur BETWEEN 1 AND 1000
);


Les dates d’époque doivent être cohérentes : la date de début < date de fin
ALTER TABLE Epoque
ADD CONSTRAINT CK_Epoque_Dates CHECK (
    E_Date_de_debut < E_Date_de_fin
);

Un architecte ne peut pas avoir une date de décès avant sa date de naissance
ALTER TABLE Architecte
ADD CONSTRAINT CK_Architecte_Dates CHECK (
    A_Date_de_naissance < A_Date_de_deces OR A_Date_de_deces IS NULL
);

La largeur d’une œuvre doit être positive
ALTER TABLE Caracteristique_esthetique
ADD CONSTRAINT CK_Caracteristique_Largeur CHECK (
    C_Largeur > 0
);

La durée et le coût d’une méthode de reproduction doivent être positifs
ALTER TABLE Methode_de_reproduction
ADD CONSTRAINT CK_Methode_Validite CHECK (
    MR_Duree > 0 AND MR_Cout >= 0
);





4ème étape :
Prompt :
Donne les requêtes d’insertion permettant de remplir la base de données dont le modèle relationnel est le suivant : 
Architecte = (A_ID INT, A_Nom VARCHAR(50), A_Prénom VARCHAR(50), A_Date_de_naissance DATE, A_Date_de_décès DATE, A_Nationalité DATE);
Matériaux = (M_ID VARCHAR(50), M_Nom VARCHAR(50), ID_Indice_de_durabilité INT);
Style_architectural = (S_ID VARCHAR(50), S_Nom VARCHAR(50), S_Origine VARCHAR(50));
Epoque = (E_ID INT, E_Nom VARCHAR(50), E_Date_de_début DATE, E_Date_de_fin DATE);
Localisation = (L_ID VARCHAR(50), L_Ville VARCHAR(50), L_Pays VARCHAR(50), L_Coordonnées_latitude DECIMAL(15,6), L_Coordonnées_Longitude DECIMAL(15,6));
Méthode_de_reproduction = (MR_ID VARCHAR(50), MR_Nom VARCHAR(50), MR_Type VARCHAR(50), MR_Niveau_de_détail VARCHAR(50), MR_Durée BIGINT, MR_Coût DECIMAL(15,2));
Usage = (U_ID INT, U_Type VARCHAR(50));
Financement = (F_ID VARCHAR(50), F_Source VARCHAR(50), F_Type VARCHAR(50), F_Coût DECIMAL(15,2));
OEuvre_Architecturale = (OE_ID VARCHAR(50), OE_Nom VARCHAR(50), OE_Date_début_construction DATE, OE_Date_fin_construction DATE, OE_Etat VARCHAR(50), #L_ID);
Caractéristique_esthétique = (#OE_ID, C_ID INT, C_Hauteur DECIMAL(15,2), C_Palette_de_couleur VARCHAR(50), C_Ornement VARCHAR(50), C_Largeur DECIMAL(15,2));
Collaborer = (#A_ID, #A_ID_1);
appartenir = (#OE_ID, #S_ID, #E_ID);
est_utilisée = (#OE_ID, #U_ID);
inspirer = (#OE_ID, #OE_ID_1);
reproduire = (#OE_ID, #MR_ID);
bénéficier = (#OE_ID, #F_ID);
Travailler = (#A_ID, #OE_ID, #M_ID);
Les clés primaires correspondent aux id, sauf si autre chose est précisé (quand c'est un attribut composé) les clés étrangères sont identifiées par les #, et ont le même nom que les clés primaires auxquelles elles font référence.
Il doit y avoir : 
20 architectes différents, 35 œuvres architecturales de ces architectes et donc 35 caractéristiques esthétiques uniques à chacun des monuments, ainsi que 35 différentes localisations avec chacun les coordonnées des monuments dans cette ville et pays. Pour les coordonnées donne des valeurs de maximum 15 chiffres dont 6 après la virgule. On doit avoir au moins un monument qui a été créés en collaborations par au moins deux architectes de cette liste.
5 différents types de reproduction :
-	Numérique 
-	Physique
-	Hybride
6 types de financement et leurs sources potentielles :
-	Public  
-	Privé 
-	Mixte
-	International
-	Participatif
-	Auto-financement
Pour l’état de l’œuvre architecturale elle peut être :
-	Existante
-	En ruine
-	Détruite
-	Restaurée
3 sources de financement maximum par monument, celles qui ont donné la plus grande somme, qui ont joué le plus grand rôle dans le financement de l’œuvre architecturale. Une source de financement n’est pas la même chose qu’un type de financement, exemple : un type : Publique, une source : Etat.
Il faut que toutes les œuvres aient leur époque et leur style architectural et leur localisation compris dans la base de données.
Utilise des noms d’architectes et d’œuvres architecturales qui ont existé. Fais en sorte que les architectes soient variés et de nationalités différentes, d’époques différentes et avec des styles différents. 
Utilise les matériaux exacts utilisés dans les œuvres architecturales en donnant maximum les 5 principaux.  Une œuvre architecturale peut se situer entre deux époques maximums entre le début de sa création et la fin.
Les clés étrangères doivent faire référence aux clés primaires existantes : donne les lignes en commençant par remplir les tables dans lesquelles il n'y a pas de clés étrangères, puis les tables dans lesquelles les clés étrangères font références à des clés primaires des tables déjà remplies. 
Fournis l'ensemble sous la forme d’un script SQL prêt à être exécuté.

Insertion des données :
-- =================================================
-- 1. Table Architecte (20 architectes)
-- =================================================
INSERT INTO Architecte (A_ID, A_Nom, A_Prénom, A_Date_de_naissance, A_Date_de_décès, A_Nationalité) VALUES
(1, 'Le Corbusier', 'Charles-Édouard Jeanneret-Gris', '1887-10-06', '1965-08-27', 'Suisse'),
(2, 'Eiffel', 'Gustave', '1832-12-15', '1923-12-27', 'Française'),
(3, 'Hadid', 'Zaha', '1950-10-31', '2016-03-31', 'Irakienne'),
(4, 'Gehry', 'Frank', '1929-02-28', NULL, 'Américaine'),
(5, 'Foster', 'Norman', '1935-06-01', NULL, 'Britannique'),
(6, 'Piano', 'Renzo', '1937-09-14', NULL, 'Italien'),
(7, 'Nouvel', 'Jean', '1945-08-12', NULL, 'Française'),
(8, 'Ando', 'Tadao', '1941-09-13', NULL, 'Japonaise'),
(9, 'Calatrava', 'Santiago', '1951-07-28', NULL, 'Espagnole'),
(10, 'I. M. Pei', 'Ieoh Ming', '1917-04-26', '2019-05-16', 'Chinoise'),
(11, 'Niemeyer', 'Oscar', '1907-12-15', '2012-12-05', 'Brésilienne'),
(12, 'Gaudí', 'Antoni', '1852-06-25', '1926-06-10', 'Espagnole'),
(13, 'Sullivan', 'Louis', '1856-09-03', '1924-04-14', 'Américaine'),
(14, 'Meier', 'Richard', '1934-10-12', NULL, 'Américaine'),
(15, 'Koolhaas', 'Rem', '1944-11-17', NULL, 'Néerlandaise'),
(16, 'Bjarke Ingels', 'Bjarke', '1974-10-02', NULL, 'Danoise'),
(17, 'Herzog & de Meuron', 'Jacques Herzog et Pierre de Meuron', '1950-04-19', NULL, 'Suisse'),
(18, 'David Chipperfield', 'David', '1953-12-18', NULL, 'Britannique'),
(19, 'Mario Botta', 'Mario', '1943-04-01', NULL, 'Suisse'),
(20, 'Jean-Michel Wilmotte', 'Jean-Michel', '1948-02-29', NULL, 'Française');

-- =================================================
-- 2. Table Matériaux
-- =================================================
INSERT INTO Matériaux (M_ID, M_Nom, ID_Indice_de_durabilité) VALUES
('M1','Béton',8),
('M2','Verre',7),
('M3','Acier',9),
('M4','Pierre',10),
('M5','Bois',6),
('M6','Brique',8),
('M7','Marbre',10),
('M8','Aluminium',7),
('M9','Plastique',4),
('M10','Cuivre',9);

-- =================================================
-- 3. Table Style_architectural
-- =================================================
INSERT INTO Style_architectural (S_ID, S_Nom, S_Origine) VALUES
('MOD', 'Modernisme', 'Europe'),
('ART', 'Art Déco', 'Europe'),
('BAR', 'Baroque', 'Europe'),
('GOT', 'Gothique', 'Europe'),
('REN', 'Renaissance', 'Europe'),
('NEO', 'Néoclassicisme', 'Europe'),
('MIN', 'Minimalisme', 'Europe'),
('FUT', 'Futurisme', 'International'),
('BR', 'Brutalisme', 'International'),
('DE', 'Déconstructivisme', 'Europe');

-- =================================================
-- 4. Table Epoque
-- =================================================
INSERT INTO Epoque (E_ID, E_Nom, E_Date_de_début, E_Date_de_fin) VALUES
(1,'Antiquité','0000-01-01','0500-12-31'),
(2,'Moyen Âge','0500-01-01','1500-12-31'),
(3,'Renaissance','1500-01-01','1700-12-31'),
(4,'Baroque','1600-01-01','1750-12-31'),
(5,'Néoclassicisme','1750-01-01','1850-12-31'),
(6,'Révolution Industrielle','1800-01-01','1900-12-31'),
(7,'Modernisme','1900-01-01','1950-12-31'),
(8,'Postmodernisme','1950-01-01','2000-12-31'),
(9,'Contemporain','2000-01-01',NULL);

-- =================================================
-- 5. Table Localisation (35 monuments avec coordonnées exactes)
-- =================================================
INSERT INTO Localisation (L_ID, L_Ville, L_Pays, L_Coordonnées_latitude, L_Coordonnées_Longitude) VALUES
('L1', 'Paris', 'France', 48.858844, 2.294351),            -- Tour Eiffel
('L2', 'Londres', 'Royaume-Uni', 51.507351, -0.127758),    -- Tower Bridge
('L3', 'New York', 'États-Unis', 40.712776, -74.005974),  -- Empire State Building
('L4', 'Tokyo', 'Japon', 35.676192, 139.650311),          -- Tokyo Skytree
('L5', 'Berlin', 'Allemagne', 52.520008, 13.404954),      -- Reichstag
('L6', 'Rome', 'Italie', 41.902782, 12.496366),           -- Colisée
('L7', 'Barcelone', 'Espagne', 41.403629, 2.174356),      -- Sagrada Familia
('L8', 'Los Angeles', 'USA', 34.052235, -118.243683),     -- Walt Disney Concert Hall
('L9', 'Shanghai', 'Chine', 31.230416, 121.473701),       -- Shanghai Tower
('L10', 'Moscou', 'Russie', 55.755825, 37.617298),        -- Saint-Basile
('L11', 'Sydney', 'Australie', -33.856784, 151.215297),   -- Sydney Opera House
('L12', 'Rio de Janeiro', 'Brésil', -22.906847, -43.172896), -- Christ the Redeemer
('L13', 'Le Caire', 'Égypte', 30.044420, 31.235712),      -- Pyramide de Khéops
('L14', 'Istanbul', 'Turquie', 41.008238, 28.978359),     -- Sainte-Sophie
('L15', 'Athènes', 'Grèce', 37.983810, 23.727539),        -- Parthénon
('L16', 'Buenos Aires', 'Argentine', -34.603684, -58.381559), -- Teatro Colón
('L17', 'Mexico', 'Mexique', 19.432608, -99.133209),      -- Cathédrale Métropolitaine
('L18', 'Lagos', 'Nigeria', 6.524379, 3.379206),          -- National Theatre
('L19', 'Mumbai', 'Inde', 19.076090, 72.877426),          -- Chhatrapati Shivaji Terminus
('L20', 'Bangkok', 'Thaïlande', 13.756331, 100.501762),   -- Grand Palais
('L21', 'Jakarta', 'Indonésie', -6.208763, 106.845599),   -- Monas
('L22', 'Lisbonne', 'Portugal', 38.722252, -9.139337),    -- Tour de Belém
('L23', 'Florence', 'Italie', 43.769562, 11.255814),      -- Cathédrale Santa Maria del Fiore
('L24', 'Paris', 'France', 48.860611, 2.352222),          -- Centre Pompidou (coordonnée légèrement ajustée)
('L25', 'Chicago', 'USA', 41.878876, -87.635915),         -- Tribune Tower
('L26', 'Brasilia', 'Brésil', -15.794229, -47.882166),    -- Palais du Planalto
('L27', 'Barcelona', 'Espagne', 41.391640, 2.164900),     -- Casa Batlló (coordonnée légèrement ajustée)
('L28', 'Berlin', 'Allemagne', 52.521500, 13.403000),     -- Jewish Museum (coordonnée légèrement ajustée)
('L29', 'Paris', 'France', 48.861111, 2.336111),          -- Louvre (coordonnée légèrement ajustée)
('L30', 'Chicago', 'USA', 41.879500, -87.634500),         -- Willis Tower (coordonnée légèrement ajustée)
('L31', 'Brasilia', 'Brésil', -15.795500, -47.883500),    -- Cathédrale de Brasilia (coordonnée légèrement ajustée)
('L32', 'Barcelona', 'Espagne', 41.414500, 2.152000),     -- Parc Güell (coordonnée légèrement ajustée)
('L33', 'Dubai', 'Émirats Arabes Unis', 25.197197, 55.274376), -- Burj Khalifa
('L34', 'Singapour', 'Singapour', 1.283333, 103.860000),  -- Marina Bay Sands
('L35', 'Sydney', 'Australie', -33.857500, 151.216000);   -- Sydney Opera House (coordonnée légèrement ajustée)
INSERT INTO OEuvre_Architecturale (OE_ID, OE_Nom, OE_Date_début_construction, OE_Date_fin_construction, OE_Etat, L_ID) VALUES
('OE1','Tour Eiffel','1887-01-28','1889-03-31','Existante','L1'),
('OE2','Tower Bridge','1886-04-21','1894-06-30','Existante','L2'),
('OE3','Empire State Building','1930-03-17','1931-05-01','Existante','L3'),
('OE4','Tokyo Skytree','2008-07-14','2012-02-29','Existante','L4'),
('OE5','Reichstag','1884-06-01','1894-06-05','Restaurée','L5'),
'OE6','Colisée','0072-01-01','0080-12-31','En ruine','L6'),
('OE7','Sagrada Familia','1882-03-19',NULL,'En construction','L7'),
('OE8','Walt Disney Concert Hall','1999-06-25','2003-10-24','Existante','L8'),
('OE9','Shanghai Tower','2008-11-29','2015-09-06','Existante','L9'),
('OE10','Saint-Basile','1555-01-01','1561-12-31','Existante','L10'),
('OE11','Sydney Opera House','1959-03-02','1973-10-20','Existante','L11'),
('OE12','Christ the Redeemer','1922-03-04','1931-10-12','Existante','L12'),
('OE13','Pyramide de Khéops','2560-01-01','2580-01-01','Existante','L13'),
('OE14','Sainte-Sophie','532-02-23','537-12-27','Restaurée','L14'),
('OE15','Parthénon','0432-01-01','0447-01-01','En ruine','L15');
('OE16','Teatro Colón','1889-05-01','1908-05-25','Existante','L16'),
('OE17','Cathédrale Métropolitaine','1573-02-15','1813-09-08','Existante','L17'),
('OE18','National Theatre','1976-01-01','1976-12-31','Existante','L18'),
('OE19','Chhatrapati Shivaji Terminus','1878-01-01','1888-01-01','Existante','L19'),
('OE20','Grand Palais','1897-01-01','1900-12-31','Existante','L20'),
('OE21','Monas','1961-08-17','1975-08-17','Existante','L21'),
('OE22','Tour de Belém','1515-01-01','1519-01-01','Existante','L22'),
('OE23','Cathédrale Santa Maria del Fiore','1296-08-09','1436-03-25','Existante','L23'),
('OE24','Centre Pompidou','1971-01-01','1977-01-31','Existante','L24'),
('OE25','Tribune Tower','1923-10-01','1925-09-30','Existante','L25'),
('OE26','Palais du Planalto','1959-05-21','1960-04-21','Existante','L26'),
('OE27','Casa Batlló','1904-01-01','1906-12-31','Existante','L27'),
('OE28','Jewish Museum Berlin','1989-06-01','2001-09-09','Existante','L28'),
('OE29','Louvre','1190-01-01','1989-10-12','Restaurée','L29'),
('OE30','Willis Tower','1970-08-16','1973-05-03','Existante','L30'),
('OE31','Cathédrale de Brasilia','1958-02-12','1970-05-31','Existante','L31'),
('OE32','Parc Güell','1900-03-01','1914-12-01','Existante','L32'),
('OE33','Burj Khalifa','2004-01-06','2010-01-04','Existante','L33'),
('OE34','Marina Bay Sands','2007-04-14','2010-06-23','Existante','L34'),
('OE35','Sydney Opera House','1959-03-02','1973-10-20','Existante','L35');

INSERT INTO Caractéristique_esthétique (#OE_ID, C_ID, C_Hauteur, C_Palette_de_couleur, C_Ornement, C_Largeur) VALUES
('OE1',1,324,'Gris','Tour métallique','125'),
('OE2',2,65,'Gris','Pont à bascule','30'),
('OE3',3,381,'Gris clair','Art déco','187'),
('OE4',4,634,'Blanc','Structure TV','60'),
('OE5',5,98,'Beige','Colonnes','135'),
('OE6',6,48,'Pierre','Amphithéâtre','188'),
('OE7',7,172,'Ocre','Façade sculptée','90'),
('OE8',8,72,'Argenté','Courbes','60'),
('OE9',9,632,'Gris','Torsade','128'),
('OE10',10,47,'Coloré','Coupoles','55'),
('OE11',11,65,'Blanc','Voiles','180'),
('OE12',12,30,'Blanc','Christ géant','28'),
('OE13',13,146,'Beige','Pyramide','230'),
('OE14',14,55,'Blanc et Or','Mosaïque','82'),
('OE15',15,13,'Marbre','Colonnes','30'),
('OE16',16,80,'Rouge','Décor','30'),
('OE17',17,67,'Gris','Colonnes','60'),
('OE18',18,30,'Beige','Théâtre','40'),
('OE19',19,37,'Brun','Style victorien','30'),
('OE20',20,45,'Blanc','Sculptures','70'),
('OE21',21,132,'Blanc','Obélisque','30'),
('OE22',22,30,'Gris','Tours','30'),
('OE23',23,114,'Rouge et blanc','Dôme','90'),
('OE24',24,42,'Blanc et bleu','Escaliers','50'),
('OE25',25,141,'Gris','Flèches','55'),
('OE26',26,65,'Blanc','Colonnes','50'),
('OE27',27,35,'Bleu et vert','Façade','20'),
('OE28',28,25,'Gris','Triangles','25'),
('OE29',29,35,'Beige','Pyramides','100'),
('OE30',30,442,'Noir','Tours','90'),
('OE31',31,40,'Blanc','Vitres','40'),
('OE32',32,17,'Vert et jaune','Façade','30'),
('OE33',33,828,'Gris et bleu','Torsade','200'),
('OE34',34,200,'Beige et vert','Skypark','120'),
('OE35',35,65,'Blanc','Voiles','180');

INSERT INTO Méthode_de_reproduction (MR_ID, MR_Nom, MR_Type, MR_Niveau_de_détail, MR_Durée, MR_Coût) VALUES
('MR1','Impression 3D','Physique','Très détaillé',360,50000),
('MR2','Scan laser','Numérique','Ultra précis',120,20000),
('MR3','Modélisation 3D','Numérique','Précis',240,15000),
('MR4','Maquette physique','Hybride','Détaillé',180,10000),
('MR5','Photogrammétrie','Numérique','Moyen',60,5000);

INSERT INTO Financement (F_ID, F_Source, F_Type, F_Coût) VALUES
('F1','État Français','Public',700000),
('F2','Fondation Getty','Privé',500000),
('F3','Union Européenne','International',300000),
('F4','Crowdfunding','Participatif',200000),
('F5','Propriétaire privé','Auto-financement',150000),
('F6','Banque Mondiale','Mixte',400000);

INSERT INTO Usage (U_ID, U_Type) VALUES
(1,'Tourisme'),
(2,'Religieux'),
(3,'Bureaux'),
(4,'Résidentiel'),
(5,'Culturel'),
(6,'Transport');
INSERT INTO Travailler (#A_ID, #OE_ID, #M_ID) VALUES
(1,'OE1','M3'),
(1,'OE1','M1'),
(2,'OE2','M3'),
(2,'OE2','M6'),
(3,'OE4','M1'),
(3,'OE4','M2'),
(4,'OE8','M1'),
(4,'OE8','M2'),
(5,'OE5','M4'),
(5,'OE5','M3'),
(6,'OE9','M1'),
(6,'OE9','M2'),
(7,'OE24','M1'),
(7,'OE24','M2'),
(8,'OE11','M1'),
(8,'OE11','M2'),
(9,'OE10','M4'),
(10,'OE30','M3'),
(11,'OE12','M2'),
(12,'OE7','M6'),
(12,'OE7','M4'),
(13,'OE25','M3'),
(14,'OE28','M1'),
(15,'OE32','M1'),
(16,'OE34','M1'),
(17,'OE33','M3'),
(18,'OE31','M1'),
(19,'OE26','M1'),
(20,'OE29','M4');

INSERT INTO appartenir (#OE_ID, #S_ID, #E_ID) VALUES
('OE1','MOD',7),    -- Tour Eiffel : Modernisme
('OE2','NEO',6),    -- Tower Bridge : Néoclassicisme
('OE3','ART',7),    -- Empire State Building : Art Déco
('OE4','DE',9),     -- Tokyo Skytree : Déconstructivisme
('OE5','NEO',6),    -- Reichstag : Néoclassicisme
('OE6','REN',1),    -- Colisée : Renaissance / Antiquité
('OE7','MOD',7),    -- Sagrada Familia : Modernisme
('OE8','DE',8),     -- Walt Disney Concert Hall : Déconstructivisme
('OE9','FUT',9),    -- Shanghai Tower : Futurisme
('OE10','BAR',4),   -- Saint-Basile : Baroque
('OE11','MIN',8),   -- Sydney Opera House : Minimalisme
('OE12','BAR',4),   -- Christ the Redeemer : Baroque
('OE13','REN',1),   -- Pyramide de Khéops : Renaissance / Antiquité
('OE14','BAR',2),   -- Sainte-Sophie : Baroque
('OE15','GOT',2),   -- Parthénon : Gothique
('OE16','REN',3),   -- Teatro Colón : Renaissance
('OE17','NEO',5),   -- Cathédrale Métropolitaine : Néoclassicisme
('OE18','MOD',7),   -- National Theatre : Modernisme
('OE19','NEO',6),   -- Chhatrapati Shivaji Terminus : Néoclassicisme
('OE20','BAR',4),   -- Grand Palais : Baroque
('OE21','MOD',8),   -- Monas : Modernisme
('OE22','NEO',5),   -- Tour de Belém : Néoclassicisme
('OE23','REN',3),   -- Cathédrale Santa Maria del Fiore : Renaissance
('OE24','DE',8),    -- Centre Pompidou : Déconstructivisme
('OE25','ART',7),   -- Tribune Tower : Art Déco
('OE26','MOD',7),   -- Palais du Planalto : Modernisme
('OE27','ART',7),   -- Casa Batlló : Art Déco
('OE28','DE',8),    -- Jewish Museum Berlin : Déconstructivisme
('OE29','NEO',5),   -- Louvre : Néoclassicisme
('OE30','MOD',7),   -- Willis Tower : Modernisme
('OE31','MOD',8),   -- Cathédrale de Brasilia : Modernisme
('OE32','ART',7),   -- Parc Güell : Art Déco
('OE33','FUT',9),   -- Burj Khalifa : Futurisme
('OE34','DE',9),    -- Marina Bay Sands : Déconstructivisme
('OE35','MIN',8);   -- Sydney Opera House : Minimalisme

INSERT INTO Collaborer (#A_ID, #A_ID_1) VALUES
(12,7),  -- Antoni Gaudí et Jean Nouvel
(1,4),   -- Le Corbusier et Frank Gehry (exemple pour OE1 et OE8)
(3,16);  -- Zaha Hadid et Bjarke Ingels (exemple pour OE4 et OE34)

INSERT INTO reproduire (#OE_ID, #MR_ID) VALUES
('OE1','MR2'),
('OE2','MR4'),
('OE3','MR3'),
('OE4','MR1'),
('OE5','MR4'),
('OE6','MR4'),
('OE7','MR1'),
('OE8','MR3'),
('OE9','MR2'),
('OE10','MR5'),
('OE11','MR4'),
('OE12','MR3'),
('OE13','MR4'),
('OE14','MR2'),
('OE15','MR4'),
('OE16','MR3'),
('OE17','MR4'),
('OE18','MR5'),
('OE19','MR4'),
('OE20','MR3'),
('OE21','MR1'),
('OE22','MR4'),
('OE23','MR4'),
('OE24','MR3'),
('OE25','MR2'),
('OE26','MR4'),
('OE27','MR4'),
('OE28','MR3'),
('OE29','MR2'),
('OE30','MR1'),
('OE31','MR4'),
('OE32','MR3'),
('OE33','MR1'),
('OE34','MR3'),
('OE35','MR4');

INSERT INTO bénéficier (#OE_ID, #F_ID) VALUES
('OE1','F1'),
('OE1','F2'),
('OE1','F3'),
('OE2','F1'),
('OE3','F2'),
('OE3','F3'),
('OE4','F4'),
('OE5','F1'),
('OE5','F6'),
('OE6','F1'),
('OE7','F2'),
('OE7','F4'),
('OE8','F2'),
('OE8','F3'),
('OE9','F3'),
('OE10','F1'),
('OE11','F2'),
('OE12','F5'),
('OE13','F1'),
('OE14','F1'),
('OE15','F1'),
('OE16','F2'),
('OE17','F6'),
('OE18','F1'),
('OE19','F2'),
('OE20','F3'),
('OE21','F1'),
('OE22','F1'),
('OE23','F1'),
('OE24','F3'),
('OE25','F2'),
('OE26','F6'),
('OE27','F2'),
('OE28','F3'),
('OE29','F1'),
('OE30','F2'),
('OE31','F1'),
('OE32','F2'),
('OE33','F3'),
('OE34','F3'),
('OE35','F2');

INSERT INTO est_utilisée (#OE_ID, #U_ID) VALUES
('OE1',1),
('OE2',6),
('OE3',3),
('OE4',3),
('OE5',3),
('OE6',2),
('OE7',2),
('OE8',5),
('OE9',3),
('OE10',2),
('OE11',5),
('OE12',2),
('OE13',2),
('OE14',2),
('OE15',2),
('OE16',5),
('OE17',2),
('OE18',5),
('OE19',6),
('OE20',5),
('OE21',5),
('OE22',2),
('OE23',2),
('OE24',5),
('OE25',3),
('OE26',3),
('OE27',2),
('OE28',5),
('OE29',5),
('OE30',3),
('OE31',2),
('OE32',5),
('OE33',3),
('OE34',5),
('OE35',5);

-- Œuvres qui ont inspiré d’autres
INSERT INTO inspirer (#OE_ID, #OE_ID_1) VALUES
('OE3','OE1'),
('OE4','OE3'),
('OE8','OE4'),
('OE30','OE3'),
('OE34','OE33'),
('OE32','OE27'),
('OE24','OE23');

5ème étape :
-- ===============================
-- Fichier 4_interrogation.sql
-- Requêtes SQL pour la base monuments historiques
-- ===============================

-- 1. Liste des noms et villes des monuments situés en France ou en Espagne, triés par ville.
SELECT OE_Nom, L_Ville
FROM OEuvre_Architecturale O
JOIN Localisation L ON O.L_ID = L.L_ID
WHERE L.L_Pays IN ('France', 'Espagne')
ORDER BY L_Ville;

-- 2. Monuments dont le nom commence par 'S' et dont la hauteur est supérieure à 50 m.
SELECT OE_Nom, C_Hauteur
FROM OEuvre_Architecturale O
JOIN Caractéristique_esthétique C ON O.OE_ID = C.OE_ID
WHERE OE_Nom LIKE 'S%' AND C_Hauteur > 50;






-- 3. Liste des monuments construits entre 1800 et 1900.
SELECT OE_Nom, OE_Date_début_construction, OE_Date_fin_construction
FROM OEuvre_Architecturale
WHERE OE_Date_début_construction BETWEEN '1800-01-01' AND '1900-12-31';

-- 4. Villes uniques où se trouvent les monuments modernes.
SELECT DISTINCT L_Ville
FROM OEuvre_Architecturale O
JOIN appartenir A ON O.OE_ID = A.OE_ID
JOIN Style_architectural S ON A.S_ID = S.S_ID
WHERE S.S_Nom = 'Modernisme';

-- 5. Monuments utilisés à la fois pour le tourisme ou culturel.
SELECT OE_Nom, U_Type
FROM est_utilisée EU
JOIN OEuvre_Architecturale O ON EU.OE_ID = O.OE_ID
JOIN Usage U ON EU.U_ID = U.U_ID
WHERE U_Type IN ('Tourisme','Culturel')
ORDER BY OE_Nom;

-- 6. Nombre de monuments par pays.
SELECT L_Pays, COUNT(*) AS Nb_Monuments
FROM OEuvre_Architecturale O
JOIN Localisation L ON O.L_ID = L.L_ID
GROUP BY L_Pays;

-- 7. Coût total du financement par type de financement.
SELECT F_Type, SUM(F_Coût) AS Total_Cout
FROM Financement F
JOIN bénéficier B ON F.F_ID = B.F_ID
GROUP BY F_Type;

-- 8. Moyenne de hauteur des monuments par style architectural
SELECT S_Nom, AVG(C_Hauteur) AS Hauteur_Moyenne
FROM Caractéristique_esthétique C
JOIN appartenir A ON C.OE_ID = A.OE_ID
JOIN Style_architectural S ON A.S_ID = S.S_ID
GROUP BY S_Nom;

-- 9. Monuments financés par plus d’une source.
SELECT O.OE_Nom, COUNT(B.F_ID) AS Nb_Financements
FROM OEuvre_Architecturale O
JOIN bénéficier B ON O.OE_ID = B.OE_ID
GROUP BY O.OE_Nom
HAVING COUNT(B.F_ID) > 1;

-- 10. Nombre d’architectes ayant travaillé sur chaque monument.
SELECT O.OE_Nom, COUNT(T.A_ID) AS Nb_Architectes
FROM Travailler T
JOIN OEuvre_Architecturale O ON T.OE_ID = O.OE_ID
GROUP BY O.OE_Nom;

-- 11. Liste de tous les monuments et leurs architectes (jointure interne).
SELECT O.OE_Nom, A.A_Nom, A.A_Prénom
FROM Travailler T
JOIN OEuvre_Architecturale O ON T.OE_ID = O.OE_ID
JOIN Architecte A ON T.A_ID = A.A_ID;

-- 12. Tous les monuments, même ceux sans financement (jointure gauche).
SELECT O.OE_Nom, F.F_Source
FROM OEuvre_Architecturale O
LEFT JOIN bénéficier B ON O.OE_ID = B.OE_ID
LEFT JOIN Financement F ON B.F_ID = F.F_ID;

-- 13. Tous les monuments et leurs styles et époques (jointure multiple).
SELECT O.OE_Nom, S.S_Nom AS Style, E.E_Nom AS Epoque
FROM OEuvre_Architecturale O
JOIN appartenir A ON O.OE_ID = A.OE_ID
JOIN Style_architectural S ON A.S_ID = S.S_ID
JOIN Epoque E ON A.E_ID = E.E_ID;

-- 14. Monuments et usages, même si aucun usage enregistré (jointure droite).
SELECT O.OE_Nom, U.U_Type
FROM OEuvre_Architecturale O
RIGHT JOIN est_utilisée EU ON O.OE_ID = EU.OE_ID
RIGHT JOIN Usage U ON EU.U_ID = U.U_ID;

-- 15. Monuments, architectes et matériaux utilisés (jointure multiple).
SELECT O.OE_Nom, A.A_Nom, M.M_Nom
FROM OEuvre_Architecturale O
JOIN Travailler T ON O.OE_ID = T.OE_ID
JOIN Architecte A ON T.A_ID = A.A_ID
JOIN Matériaux M ON T.M_ID = M.M_ID;

-- 16. Monuments qui n’ont pas de financement privé.
SELECT OE_Nom
FROM OEuvre_Architecturale O
WHERE O.OE_ID NOT IN (
    SELECT B.OE_ID
    FROM bénéficier B
    JOIN Financement F ON B.F_ID = F.F_ID
    WHERE F.F_Type = 'Privé'
);

-- 17. Architectes ayant travaillé uniquement sur des monuments existants.
SELECT A_Nom
FROM Architecte A
WHERE NOT EXISTS (
    SELECT *
    FROM Travailler T
    JOIN OEuvre_Architecturale O ON T.OE_ID = O.OE_ID
    WHERE O.OE_Etat <> 'Existante' AND T.A_ID = A.A_ID
);

-- 18. Monuments dont la hauteur est supérieure à toutes les œuvres de moins de 100 ans.
SELECT OE_Nom, C_Hauteur
FROM Caractéristique_esthétique C
WHERE C_Hauteur > ALL (
    SELECT C_Hauteur
    FROM Caractéristique_esthétique CE
    JOIN OEuvre_Architecturale O ON CE.OE_ID = O.OE_ID
    WHERE O.OE_Date_début_construction > DATE_SUB(CURDATE(), INTERVAL 100 YEAR)
);

-- 19. Monuments inspirés par des monuments construits avant 1800.
SELECT DISTINCT O.OE_Nom
FROM inspirer I
JOIN OEuvre_Architecturale O ON I.OE_ID = O.OE_ID
WHERE I.OE_ID_1 IN (
    SELECT OE_ID
    FROM OEuvre_Architecturale
    WHERE OE_Date_début_construction < '1800-01-01'
);

-- 20. Monuments financés par au moins une source internationale.
SELECT OE_Nom
FROM OEuvre_Architecturale O
WHERE O.OE_ID = ANY (
    SELECT B.OE_ID
    FROM bénéficier B
    JOIN Financement F ON B.F_ID = F.F_ID
    WHERE F.F_Type = 'International'
);
